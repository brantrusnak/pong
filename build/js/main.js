(()=>{"use strict";var e={114:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.drawPaddle=m,t.drawBall=g,t.drawDivider=n,t.drawScore=i,t.drawStartScreen=function(){if(!S.gameState.context||!S.gameState.canvas)return;S.gameState.ellipsisFrame++;const e=Math.floor(S.gameState.ellipsisFrame/30%3)+1,t=".".repeat(e);S.gameState.context.fillStyle="#fff",S.gameState.context.font=l.SCORE_FONT,S.gameState.context.textBaseline="middle";const a="Click to Start";S.gameState.context.textAlign="left";const m=S.gameState.context.measureText(a).width,g=m+S.gameState.context.measureText("...").width,n=S.gameState.canvas.width/2-g/2;S.gameState.context.fillText(a,n,S.gameState.canvas.height/2),S.gameState.context.fillText(t,n+m,S.gameState.canvas.height/2),S.gameState.context.textAlign="left"},t.draw=function(){S.gameState.context&&S.gameState.canvas&&(S.gameState.context.clearRect(0,0,S.gameState.canvas.width,S.gameState.canvas.height),m(0,S.gameState.playerPaddleY),m(S.gameState.canvas.width-l.PADDLE.width,S.gameState.computerPaddleY),n(),g(),i())};const l=a(921),S=a(543);function m(e,t){S.gameState.context&&(S.gameState.context.beginPath(),S.gameState.context.fillStyle="#fff",S.gameState.context.fillRect(e,t-l.PADDLE.height/2,l.PADDLE.width,l.PADDLE.height),S.gameState.context.fill())}function g(){S.gameState.context&&(S.gameState.context.beginPath(),S.gameState.context.fillStyle="#fff",S.gameState.context.arc(S.gameState.ball.X,S.gameState.ball.Y,S.gameState.ball.radius,0,2*Math.PI),S.gameState.context.fill())}function n(){S.gameState.context&&S.gameState.canvas&&(S.gameState.context.beginPath(),S.gameState.context.strokeStyle="#fff",S.gameState.context.lineWidth=10,S.gameState.context.setLineDash(l.DIVIDER_PATTERN),S.gameState.context.moveTo(S.gameState.canvas.width/2,0),S.gameState.context.lineTo(S.gameState.canvas.width/2,S.gameState.canvas.height),S.gameState.context.stroke())}function i(){S.gameState.context&&S.gameState.canvas&&(S.gameState.context.fillStyle="#fff",S.gameState.context.font=l.SCORE_FONT,S.gameState.context.textBaseline="top",S.gameState.context.fillText(S.gameState.playerscore.toString(),S.gameState.canvas.width*l.SCORE_OFFSETS.player,l.SCORE_Y_OFFSET),S.gameState.context.fillText(S.gameState.computerscore.toString(),S.gameState.canvas.width*l.SCORE_OFFSETS.computer,l.SCORE_Y_OFFSET))}},250:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resizeCanvas=function(e=!1){if(!S.gameState.canvas)return;const t=S.gameState.canvas.width||window.innerWidth,a=S.gameState.canvas.height||window.innerHeight;if(S.gameState.canvas.width=window.innerWidth,S.gameState.canvas.height=window.innerHeight,e)return S.gameState.playerPaddleY=S.gameState.canvas.height/2,S.gameState.computerPaddleY=S.gameState.playerPaddleY,S.gameState.ball.X=S.gameState.canvas.width/2,void(S.gameState.ball.Y=S.gameState.canvas.height/2);const m=S.gameState.canvas.width/t,g=S.gameState.canvas.height/a;S.gameState.playerPaddleY*=g,S.gameState.computerPaddleY*=g,S.gameState.ball.X*=m,S.gameState.ball.Y*=g,function(){if(!S.gameState.canvas)return;const e=l.PADDLE.height/2;S.gameState.playerPaddleY=Math.min(Math.max(S.gameState.playerPaddleY,e),S.gameState.canvas.height-e),S.gameState.computerPaddleY=Math.min(Math.max(S.gameState.computerPaddleY,e),S.gameState.canvas.height-e),S.gameState.ball.X=Math.min(Math.max(S.gameState.ball.X,S.gameState.ball.radius),S.gameState.canvas.width-S.gameState.ball.radius),S.gameState.ball.Y=Math.min(Math.max(S.gameState.ball.Y,S.gameState.ball.radius),S.gameState.canvas.height-S.gameState.ball.radius)}()};const l=a(921),S=a(543)},304:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateComputerPosition=m,t.resetBall=g,t.move=function(){if(S.gameState.canvas){if(S.gameState.ball.X+=S.gameState.ball.VX,S.gameState.ball.Y+=S.gameState.ball.VY,m(),S.gameState.ball.X-l.PADDLE.width<0){const e=S.gameState.playerPaddleY-l.PADDLE.height/2,t=S.gameState.playerPaddleY+l.PADDLE.height/2;if(S.gameState.ball.Y>=e&&S.gameState.ball.Y<t){const e=S.gameState.playerPaddleY-S.gameState.ball.Y;S.gameState.ball.VY+=-.1*e,S.gameState.ball.VX=-S.gameState.ball.VX}else S.gameState.computerscore++,g()}if(S.gameState.ball.X+l.PADDLE.width>S.gameState.canvas.width){const e=S.gameState.computerPaddleY-l.PADDLE.height/2,t=S.gameState.computerPaddleY+l.PADDLE.height/2;if(S.gameState.ball.Y>=e&&S.gameState.ball.Y<t){const e=S.gameState.computerPaddleY-S.gameState.ball.Y;S.gameState.ball.VY+=-.1*e,S.gameState.ball.VX=-S.gameState.ball.VX}else S.gameState.playerscore++,g()}S.gameState.ball.Y-S.gameState.ball.radius<0&&(S.gameState.ball.Y=S.gameState.ball.radius,S.gameState.ball.VY=-S.gameState.ball.VY),S.gameState.ball.Y+S.gameState.ball.radius>S.gameState.canvas.height&&(S.gameState.ball.Y=S.gameState.canvas.height-S.gameState.ball.radius,S.gameState.ball.VY=-S.gameState.ball.VY)}};const l=a(921),S=a(543);function m(){if(!S.gameState.canvas)return;const e=l.PADDLE.height/2;S.gameState.ball.Y-e>0&&S.gameState.ball.Y+e<S.gameState.canvas.height&&(S.gameState.computerPaddleY=S.gameState.ball.Y)}function g(){if(!S.gameState.canvas)return;const e=Math.random()<.5?-1:1;S.gameState.ball.VX=l.BASE_BALL_SPEED*e,S.gameState.ball.VY=(Math.random()-.5)*(.5*l.BASE_BALL_SPEED),S.gameState.ball.X=S.gameState.canvas.width/2,S.gameState.ball.Y=S.gameState.canvas.height/2}},543:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.gameState=void 0,t.gameState={canvas:null,context:null,playerPaddleY:0,computerPaddleY:0,playerscore:0,computerscore:0,ball:{X:0,Y:0,radius:5,VX:0,VY:0},gameStarted:!1,ellipsisFrame:0}},788:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateMousePosition=function(e){if(!l.gameState.canvas)return;const t=S.PADDLE.height/2;e.clientY-t>0&&e.clientY+t<l.gameState.canvas.height&&(l.gameState.playerPaddleY=e.clientY)},t.startGame=function(){l.gameState.gameStarted||(l.gameState.gameStarted=!0,(0,m.resetBall)())};const l=a(543),S=a(921),m=a(304)},921:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BASE_BALL_SPEED=t.SCORE_OFFSETS=t.SCORE_Y_OFFSET=t.SCORE_FONT=t.DIVIDER_PATTERN=t.PADDLE=void 0,t.PADDLE=Object.freeze({width:10,height:100}),t.DIVIDER_PATTERN=[10,70],t.SCORE_FONT="72px 'Press Start 2P'",t.SCORE_Y_OFFSET=10,t.SCORE_OFFSETS=Object.freeze({player:.25,computer:.75}),t.BASE_BALL_SPEED=16}},t={};function a(l){var S=t[l];if(void 0!==S)return S.exports;var m=t[l]={exports:{}};return e[l](m,m.exports,a),m.exports}(()=>{const e=a(543),t=a(114),l=a(304),S=a(788),m=a(250);function g(){(0,t.draw)(),e.gameState.gameStarted?(0,l.move)():(0,t.drawStartScreen)(),requestAnimationFrame(g)}window.onload=()=>{e.gameState.canvas=document.getElementById("game"),e.gameState.context=e.gameState.canvas.getContext("2d"),(0,m.resizeCanvas)(!0),e.gameState.canvas.onmousemove=S.updateMousePosition,e.gameState.canvas.onclick=S.startGame,window.addEventListener("resize",()=>(0,m.resizeCanvas)()),g()}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VXBFLFFBQ1R4QixFQUFZQyxVQUFVNkUsYUFJdkIsRUFBSUssRUFBWWhCLFNBSGhCLEVBQUl5QixFQUFVN0YsbUJBS2xCaUcsc0JBQXNCRCxFQUMxQixDQWxCQXhDLE9BQU8wQyxPQUFTLEtBQ1pqRyxFQUFZQyxVQUFVRSxPQUFTK0YsU0FBU0MsZUFBZSxRQUN2RG5HLEVBQVlDLFVBQVVDLFFBQVVGLEVBQVlDLFVBQVVFLE9BQU9pRyxXQUFXLE9BQ3hFLEVBQUlOLEVBQVMxQyxlQUFjLEdBQzNCcEQsRUFBWUMsVUFBVUUsT0FBT2tHLFlBQWNSLEVBQVFkLG9CQUNuRC9FLEVBQVlDLFVBQVVFLE9BQU9tRyxRQUFVVCxFQUFRWCxVQUMvQzNCLE9BQU9nRCxpQkFBaUIsU0FBVSxLQUFNLEVBQUlULEVBQVMxQyxpQkFDckQyQyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9uZy8uL3NyYy9kcmF3aW5nLnRzIiwid2VicGFjazovL3BvbmcvLi9zcmMvY2FudmFzLnRzIiwid2VicGFjazovL3BvbmcvLi9zcmMvZ2FtZUxvZ2ljLnRzIiwid2VicGFjazovL3BvbmcvLi9zcmMvZ2FtZVN0YXRlLnRzIiwid2VicGFjazovL3BvbmcvLi9zcmMvaW5wdXQudHMiLCJ3ZWJwYWNrOi8vcG9uZy8uL3NyYy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vcG9uZy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wb25nLy4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRyYXdQYWRkbGUgPSBkcmF3UGFkZGxlO1xuZXhwb3J0cy5kcmF3QmFsbCA9IGRyYXdCYWxsO1xuZXhwb3J0cy5kcmF3RGl2aWRlciA9IGRyYXdEaXZpZGVyO1xuZXhwb3J0cy5kcmF3U2NvcmUgPSBkcmF3U2NvcmU7XG5leHBvcnRzLmRyYXdTdGFydFNjcmVlbiA9IGRyYXdTdGFydFNjcmVlbjtcbmV4cG9ydHMuZHJhdyA9IGRyYXc7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGdhbWVTdGF0ZV8xID0gcmVxdWlyZShcIi4vZ2FtZVN0YXRlXCIpO1xuZnVuY3Rpb24gZHJhd1BhZGRsZShYLCBZKSB7XG4gICAgaWYgKCFnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dClcbiAgICAgICAgcmV0dXJuO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0LmZpbGxTdHlsZSA9ICcjZmZmJztcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dC5maWxsUmVjdChYLCBZIC0gKGNvbnN0YW50c18xLlBBRERMRS5oZWlnaHQgLyAyKSwgY29uc3RhbnRzXzEuUEFERExFLndpZHRoLCBjb25zdGFudHNfMS5QQURETEUuaGVpZ2h0KTtcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dC5maWxsKCk7XG59XG5mdW5jdGlvbiBkcmF3QmFsbCgpIHtcbiAgICBpZiAoIWdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0KVxuICAgICAgICByZXR1cm47XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmYnO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0LmFyYyhnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5YLCBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5ZLCBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5yYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dC5maWxsKCk7XG59XG5mdW5jdGlvbiBkcmF3RGl2aWRlcigpIHtcbiAgICBpZiAoIWdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0IHx8ICFnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzKVxuICAgICAgICByZXR1cm47XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnI2ZmZic7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQubGluZVdpZHRoID0gMTA7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQuc2V0TGluZURhc2goY29uc3RhbnRzXzEuRElWSURFUl9QQVRURVJOKTtcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dC5tb3ZlVG8oZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcy53aWR0aCAvIDIsIDApO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0LmxpbmVUbyhnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLndpZHRoIC8gMiwgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQpO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0LnN0cm9rZSgpO1xufVxuZnVuY3Rpb24gZHJhd1Njb3JlKCkge1xuICAgIGlmICghZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQgfHwgIWdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMpXG4gICAgICAgIHJldHVybjtcbiAgICAvKlxuICAgICAgICBSZW5kZXIgc2NvcmVib2FyZCwgcGxheWVyIHNjb3JlIGlzIDI1JSAob2YgY2FudmFzIHdpZHRoKSBvZmZzZXQsIHNlY29uZCBpcyA3NSUuXG4gICAgKi9cbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dC5maWxsU3R5bGUgPSAnI2ZmZic7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQuZm9udCA9IGNvbnN0YW50c18xLlNDT1JFX0ZPTlQ7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQuZmlsbFRleHQoZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLnBsYXllcnNjb3JlLnRvU3RyaW5nKCksIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMud2lkdGggKiBjb25zdGFudHNfMS5TQ09SRV9PRkZTRVRTLnBsYXllciwgY29uc3RhbnRzXzEuU0NPUkVfWV9PRkZTRVQpO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0LmZpbGxUZXh0KGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb21wdXRlcnNjb3JlLnRvU3RyaW5nKCksIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMud2lkdGggKiBjb25zdGFudHNfMS5TQ09SRV9PRkZTRVRTLmNvbXB1dGVyLCBjb25zdGFudHNfMS5TQ09SRV9ZX09GRlNFVCk7XG59XG5mdW5jdGlvbiBkcmF3U3RhcnRTY3JlZW4oKSB7XG4gICAgaWYgKCFnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dCB8fCAhZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcylcbiAgICAgICAgcmV0dXJuO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5lbGxpcHNpc0ZyYW1lKys7XG4gICAgLy8gQ3ljbGUgZWxsaXBzaXMgZXZlcnkgMzAgZnJhbWVzIChyb3VnaGx5IDAuNSBzZWNvbmRzIGF0IDYwZnBzKVxuICAgIGNvbnN0IGVsbGlwc2lzQ291bnQgPSBNYXRoLmZsb29yKChnYW1lU3RhdGVfMS5nYW1lU3RhdGUuZWxsaXBzaXNGcmFtZSAvIDMwKSAlIDMpICsgMTtcbiAgICBjb25zdCBlbGxpcHNpcyA9ICcuJy5yZXBlYXQoZWxsaXBzaXNDb3VudCk7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmYnO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0LmZvbnQgPSBjb25zdGFudHNfMS5TQ09SRV9GT05UO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgIC8vIE1lYXN1cmUgdGV4dCB0byBrZWVwIFwiQ2xpY2sgdG8gU3RhcnRcIiBpbiBmaXhlZCBwb3NpdGlvblxuICAgIGNvbnN0IGJhc2VUZXh0ID0gJ0NsaWNrIHRvIFN0YXJ0JztcbiAgICBjb25zdCBtYXhFbGxpcHNpcyA9ICcuLi4nO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0LnRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICBjb25zdCBiYXNlVGV4dFdpZHRoID0gZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQubWVhc3VyZVRleHQoYmFzZVRleHQpLndpZHRoO1xuICAgIGNvbnN0IG1heEVsbGlwc2lzV2lkdGggPSBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dC5tZWFzdXJlVGV4dChtYXhFbGxpcHNpcykud2lkdGg7XG4gICAgY29uc3QgdG90YWxXaWR0aCA9IGJhc2VUZXh0V2lkdGggKyBtYXhFbGxpcHNpc1dpZHRoO1xuICAgIC8vIERyYXcgYmFzZSB0ZXh0IGNlbnRlcmVkLCBhY2NvdW50aW5nIGZvciBtYXggZWxsaXBzaXMgd2lkdGhcbiAgICBjb25zdCBzdGFydFggPSAoZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcy53aWR0aCAvIDIpIC0gKHRvdGFsV2lkdGggLyAyKTtcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dC5maWxsVGV4dChiYXNlVGV4dCwgc3RhcnRYLCBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLmhlaWdodCAvIDIpO1xuICAgIC8vIERyYXcgZWxsaXBzaXMgaW4gZml4ZWQtd2lkdGggYXJlYSBhZnRlciBiYXNlIHRleHRcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dC5maWxsVGV4dChlbGxpcHNpcywgc3RhcnRYICsgYmFzZVRleHRXaWR0aCwgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQgLyAyKTtcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dC50ZXh0QWxpZ24gPSAnbGVmdCc7IC8vIFJlc2V0IHRvIGRlZmF1bHRcbn1cbmZ1bmN0aW9uIGRyYXcoKSB7XG4gICAgaWYgKCFnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29udGV4dCB8fCAhZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcylcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIENsZWFyIGNvbnRleHQgZXZlcnkgZHJhdyBjYWxsLlxuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLndpZHRoLCBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLmhlaWdodCk7XG4gICAgLy8gUGxheWVyIFBhZGRsZVxuICAgIGRyYXdQYWRkbGUoMCwgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLnBsYXllclBhZGRsZVkpO1xuICAgIC8vIENvbXB1dGVyIFBhZGRsZVxuICAgIGRyYXdQYWRkbGUoZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcy53aWR0aCAtIGNvbnN0YW50c18xLlBBRERMRS53aWR0aCwgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbXB1dGVyUGFkZGxlWSk7XG4gICAgZHJhd0RpdmlkZXIoKTtcbiAgICBkcmF3QmFsbCgpO1xuICAgIGRyYXdTY29yZSgpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlc2l6ZUNhbnZhcyA9IHJlc2l6ZUNhbnZhcztcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgZ2FtZVN0YXRlXzEgPSByZXF1aXJlKFwiLi9nYW1lU3RhdGVcIik7XG5mdW5jdGlvbiByZXNpemVDYW52YXMoaW5pdGlhbGl6aW5nID0gZmFsc2UpIHtcbiAgICBpZiAoIWdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBwcmV2aW91c1dpZHRoID0gZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcy53aWR0aCB8fCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBjb25zdCBwcmV2aW91c0hlaWdodCA9IGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMuaGVpZ2h0IHx8IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgaWYgKGluaXRpYWxpemluZykge1xuICAgICAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUucGxheWVyUGFkZGxlWSA9IGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMuaGVpZ2h0IC8gMjtcbiAgICAgICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbXB1dGVyUGFkZGxlWSA9IGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5wbGF5ZXJQYWRkbGVZO1xuICAgICAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5YID0gZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcy53aWR0aCAvIDI7XG4gICAgICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlkgPSBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLmhlaWdodCAvIDI7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgd2lkdGhSYXRpbyA9IGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMud2lkdGggLyBwcmV2aW91c1dpZHRoO1xuICAgIGNvbnN0IGhlaWdodFJhdGlvID0gZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQgLyBwcmV2aW91c0hlaWdodDtcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUucGxheWVyUGFkZGxlWSAqPSBoZWlnaHRSYXRpbztcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29tcHV0ZXJQYWRkbGVZICo9IGhlaWdodFJhdGlvO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlggKj0gd2lkdGhSYXRpbztcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5ZICo9IGhlaWdodFJhdGlvO1xuICAgIGNsYW1wUG9zaXRpb25zKCk7XG59XG5mdW5jdGlvbiBjbGFtcFBvc2l0aW9ucygpIHtcbiAgICBpZiAoIWdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBoYWxmSGVpZ2h0ID0gY29uc3RhbnRzXzEuUEFERExFLmhlaWdodCAvIDI7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLnBsYXllclBhZGRsZVkgPSBNYXRoLm1pbihNYXRoLm1heChnYW1lU3RhdGVfMS5nYW1lU3RhdGUucGxheWVyUGFkZGxlWSwgaGFsZkhlaWdodCksIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMuaGVpZ2h0IC0gaGFsZkhlaWdodCk7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbXB1dGVyUGFkZGxlWSA9IE1hdGgubWluKE1hdGgubWF4KGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jb21wdXRlclBhZGRsZVksIGhhbGZIZWlnaHQpLCBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLmhlaWdodCAtIGhhbGZIZWlnaHQpO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlggPSBNYXRoLm1pbihNYXRoLm1heChnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5YLCBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5yYWRpdXMpLCBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLndpZHRoIC0gZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwucmFkaXVzKTtcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5ZID0gTWF0aC5taW4oTWF0aC5tYXgoZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuWSwgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwucmFkaXVzKSwgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcy5oZWlnaHQgLSBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5yYWRpdXMpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVwZGF0ZUNvbXB1dGVyUG9zaXRpb24gPSB1cGRhdGVDb21wdXRlclBvc2l0aW9uO1xuZXhwb3J0cy5yZXNldEJhbGwgPSByZXNldEJhbGw7XG5leHBvcnRzLm1vdmUgPSBtb3ZlO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBnYW1lU3RhdGVfMSA9IHJlcXVpcmUoXCIuL2dhbWVTdGF0ZVwiKTtcbmZ1bmN0aW9uIHVwZGF0ZUNvbXB1dGVyUG9zaXRpb24oKSB7XG4gICAgaWYgKCFnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgaGFsZkhlaWdodCA9IGNvbnN0YW50c18xLlBBRERMRS5oZWlnaHQgLyAyO1xuICAgIGlmIChnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5ZIC0gaGFsZkhlaWdodCA+IDAgJiYgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuWSArIGhhbGZIZWlnaHQgPCBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLmhlaWdodCkge1xuICAgICAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29tcHV0ZXJQYWRkbGVZID0gZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuWTtcbiAgICB9XG59XG5mdW5jdGlvbiByZXNldEJhbGwoKSB7XG4gICAgaWYgKCFnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgaG9yaXpvbnRhbERpcmVjdGlvbiA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDE7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuVlggPSBjb25zdGFudHNfMS5CQVNFX0JBTExfU1BFRUQgKiBob3Jpem9udGFsRGlyZWN0aW9uO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlZZID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogKGNvbnN0YW50c18xLkJBU0VfQkFMTF9TUEVFRCAqIDAuNSk7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuWCA9IGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMud2lkdGggLyAyO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlkgPSBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLmhlaWdodCAvIDI7XG59XG5mdW5jdGlvbiBtb3ZlKCkge1xuICAgIGlmICghZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcylcbiAgICAgICAgcmV0dXJuO1xuICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlggKz0gZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuVlg7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuWSArPSBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5WWTtcbiAgICB1cGRhdGVDb21wdXRlclBvc2l0aW9uKCk7XG4gICAgLy8gUGxheWVyIHNjb3JlfHBhZGRsZXxiYWxsIGNvbGxpc2lvbiBkZXRlY3Rpb24uXG4gICAgaWYgKGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlggLSBjb25zdGFudHNfMS5QQURETEUud2lkdGggPCAwKSB7XG4gICAgICAgIGNvbnN0IHBsYXllclRvcCA9IGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5wbGF5ZXJQYWRkbGVZIC0gKGNvbnN0YW50c18xLlBBRERMRS5oZWlnaHQgLyAyKTtcbiAgICAgICAgY29uc3QgcGxheWVyQm90dG9tID0gZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLnBsYXllclBhZGRsZVkgKyAoY29uc3RhbnRzXzEuUEFERExFLmhlaWdodCAvIDIpO1xuICAgICAgICBpZiAoZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuWSA+PSBwbGF5ZXJUb3AgJiYgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuWSA8IHBsYXllckJvdHRvbSkge1xuICAgICAgICAgICAgY29uc3QgZCA9IGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5wbGF5ZXJQYWRkbGVZIC0gZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuWTtcbiAgICAgICAgICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlZZICs9IGQgKiAtMC4xO1xuICAgICAgICAgICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuVlggPSAtZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuVlg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29tcHV0ZXJzY29yZSsrO1xuICAgICAgICAgICAgcmVzZXRCYWxsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ29tcHV0ZXIgc2NvcmV8cGFkZGxlfGJhbGwgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICBpZiAoZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuWCArIGNvbnN0YW50c18xLlBBRERMRS53aWR0aCA+IGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMud2lkdGgpIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZXJUb3AgPSBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29tcHV0ZXJQYWRkbGVZIC0gKGNvbnN0YW50c18xLlBBRERMRS5oZWlnaHQgLyAyKTtcbiAgICAgICAgY29uc3QgY29tcHV0ZXJCb3R0b20gPSBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY29tcHV0ZXJQYWRkbGVZICsgKGNvbnN0YW50c18xLlBBRERMRS5oZWlnaHQgLyAyKTtcbiAgICAgICAgaWYgKGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlkgPj0gY29tcHV0ZXJUb3AgJiYgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuWSA8IGNvbXB1dGVyQm90dG9tKSB7XG4gICAgICAgICAgICBjb25zdCBkID0gZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbXB1dGVyUGFkZGxlWSAtIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlk7XG4gICAgICAgICAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5WWSArPSBkICogLTAuMTtcbiAgICAgICAgICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlZYID0gLWdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlZYO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLnBsYXllcnNjb3JlKys7XG4gICAgICAgICAgICByZXNldEJhbGwoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBCb3VuY2Ugb2ZmIHRvcC9ib3R0b20uXG4gICAgaWYgKGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlkgLSBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5yYWRpdXMgPCAwKSB7XG4gICAgICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlkgPSBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuYmFsbC5yYWRpdXM7XG4gICAgICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlZZID0gLWdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlZZO1xuICAgIH1cbiAgICBpZiAoZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuWSArIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLnJhZGl1cyA+IGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5jYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLlkgPSBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLmhlaWdodCAtIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5iYWxsLnJhZGl1cztcbiAgICAgICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuVlkgPSAtZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmJhbGwuVlk7XG4gICAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdhbWVTdGF0ZSA9IHZvaWQgMDtcbmV4cG9ydHMuZ2FtZVN0YXRlID0ge1xuICAgIGNhbnZhczogbnVsbCxcbiAgICBjb250ZXh0OiBudWxsLFxuICAgIHBsYXllclBhZGRsZVk6IDAsIC8vIHN0b3JlcyBwYWRkbGUgY2VudGVyXG4gICAgY29tcHV0ZXJQYWRkbGVZOiAwLFxuICAgIHBsYXllcnNjb3JlOiAwLFxuICAgIGNvbXB1dGVyc2NvcmU6IDAsXG4gICAgYmFsbDogeyBYOiAwLCBZOiAwLCByYWRpdXM6IDUsIFZYOiAwLCBWWTogMCB9LFxuICAgIGdhbWVTdGFydGVkOiBmYWxzZSxcbiAgICBlbGxpcHNpc0ZyYW1lOiAwXG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVwZGF0ZU1vdXNlUG9zaXRpb24gPSB1cGRhdGVNb3VzZVBvc2l0aW9uO1xuZXhwb3J0cy5zdGFydEdhbWUgPSBzdGFydEdhbWU7XG5jb25zdCBnYW1lU3RhdGVfMSA9IHJlcXVpcmUoXCIuL2dhbWVTdGF0ZVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgZ2FtZUxvZ2ljXzEgPSByZXF1aXJlKFwiLi9nYW1lTG9naWNcIik7XG5mdW5jdGlvbiB1cGRhdGVNb3VzZVBvc2l0aW9uKGV2ZW50KSB7XG4gICAgaWYgKCFnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgaGFsZkhlaWdodCA9IGNvbnN0YW50c18xLlBBRERMRS5oZWlnaHQgLyAyO1xuICAgIGlmIChldmVudC5jbGllbnRZIC0gaGFsZkhlaWdodCA+IDAgJiYgZXZlbnQuY2xpZW50WSArIGhhbGZIZWlnaHQgPCBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLmhlaWdodCkge1xuICAgICAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUucGxheWVyUGFkZGxlWSA9IGV2ZW50LmNsaWVudFk7XG4gICAgfVxufVxuZnVuY3Rpb24gc3RhcnRHYW1lKCkge1xuICAgIGlmICghZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmdhbWVTdGFydGVkKSB7XG4gICAgICAgIGdhbWVTdGF0ZV8xLmdhbWVTdGF0ZS5nYW1lU3RhcnRlZCA9IHRydWU7XG4gICAgICAgICgwLCBnYW1lTG9naWNfMS5yZXNldEJhbGwpKCk7XG4gICAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJBU0VfQkFMTF9TUEVFRCA9IGV4cG9ydHMuU0NPUkVfT0ZGU0VUUyA9IGV4cG9ydHMuU0NPUkVfWV9PRkZTRVQgPSBleHBvcnRzLlNDT1JFX0ZPTlQgPSBleHBvcnRzLkRJVklERVJfUEFUVEVSTiA9IGV4cG9ydHMuUEFERExFID0gdm9pZCAwO1xuZXhwb3J0cy5QQURETEUgPSBPYmplY3QuZnJlZXplKHsgd2lkdGg6IDEwLCBoZWlnaHQ6IDEwMCB9KTtcbmV4cG9ydHMuRElWSURFUl9QQVRURVJOID0gWzEwLCA3MF07XG5leHBvcnRzLlNDT1JFX0ZPTlQgPSBcIjcycHggJ1ByZXNzIFN0YXJ0IDJQJ1wiO1xuZXhwb3J0cy5TQ09SRV9ZX09GRlNFVCA9IDEwO1xuZXhwb3J0cy5TQ09SRV9PRkZTRVRTID0gT2JqZWN0LmZyZWV6ZSh7IHBsYXllcjogMC4yNSwgY29tcHV0ZXI6IDAuNzUgfSk7XG5leHBvcnRzLkJBU0VfQkFMTF9TUEVFRCA9IDE2O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZ2FtZVN0YXRlXzEgPSByZXF1aXJlKFwiLi9nYW1lU3RhdGVcIik7XG5jb25zdCBkcmF3aW5nXzEgPSByZXF1aXJlKFwiLi9kcmF3aW5nXCIpO1xuY29uc3QgZ2FtZUxvZ2ljXzEgPSByZXF1aXJlKFwiLi9nYW1lTG9naWNcIik7XG5jb25zdCBpbnB1dF8xID0gcmVxdWlyZShcIi4vaW5wdXRcIik7XG5jb25zdCBjYW52YXNfMSA9IHJlcXVpcmUoXCIuL2NhbnZhc1wiKTtcbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lJyk7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNvbnRleHQgPSBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgKDAsIGNhbnZhc18xLnJlc2l6ZUNhbnZhcykodHJ1ZSk7XG4gICAgZ2FtZVN0YXRlXzEuZ2FtZVN0YXRlLmNhbnZhcy5vbm1vdXNlbW92ZSA9IGlucHV0XzEudXBkYXRlTW91c2VQb3NpdGlvbjtcbiAgICBnYW1lU3RhdGVfMS5nYW1lU3RhdGUuY2FudmFzLm9uY2xpY2sgPSBpbnB1dF8xLnN0YXJ0R2FtZTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gKDAsIGNhbnZhc18xLnJlc2l6ZUNhbnZhcykoKSk7XG4gICAgZ2FtZUxvb3AoKTtcbn07XG5mdW5jdGlvbiBnYW1lTG9vcCgpIHtcbiAgICAoMCwgZHJhd2luZ18xLmRyYXcpKCk7XG4gICAgaWYgKCFnYW1lU3RhdGVfMS5nYW1lU3RhdGUuZ2FtZVN0YXJ0ZWQpIHtcbiAgICAgICAgKDAsIGRyYXdpbmdfMS5kcmF3U3RhcnRTY3JlZW4pKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAoMCwgZ2FtZUxvZ2ljXzEubW92ZSkoKTtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdhbWVMb29wKTtcbn1cbiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRyYXdQYWRkbGUiLCJkcmF3QmFsbCIsImRyYXdEaXZpZGVyIiwiZHJhd1Njb3JlIiwiZHJhd1N0YXJ0U2NyZWVuIiwiZ2FtZVN0YXRlXzEiLCJnYW1lU3RhdGUiLCJjb250ZXh0IiwiY2FudmFzIiwiZWxsaXBzaXNGcmFtZSIsImVsbGlwc2lzQ291bnQiLCJNYXRoIiwiZmxvb3IiLCJlbGxpcHNpcyIsInJlcGVhdCIsImZpbGxTdHlsZSIsImZvbnQiLCJjb25zdGFudHNfMSIsIlNDT1JFX0ZPTlQiLCJ0ZXh0QmFzZWxpbmUiLCJiYXNlVGV4dCIsInRleHRBbGlnbiIsImJhc2VUZXh0V2lkdGgiLCJtZWFzdXJlVGV4dCIsIndpZHRoIiwidG90YWxXaWR0aCIsInN0YXJ0WCIsImZpbGxUZXh0IiwiaGVpZ2h0IiwiZHJhdyIsImNsZWFyUmVjdCIsInBsYXllclBhZGRsZVkiLCJQQURETEUiLCJjb21wdXRlclBhZGRsZVkiLCJYIiwiWSIsImJlZ2luUGF0aCIsImZpbGxSZWN0IiwiZmlsbCIsImFyYyIsImJhbGwiLCJyYWRpdXMiLCJQSSIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic2V0TGluZURhc2giLCJESVZJREVSX1BBVFRFUk4iLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJwbGF5ZXJzY29yZSIsInRvU3RyaW5nIiwiU0NPUkVfT0ZGU0VUUyIsInBsYXllciIsIlNDT1JFX1lfT0ZGU0VUIiwiY29tcHV0ZXJzY29yZSIsImNvbXB1dGVyIiwicmVzaXplQ2FudmFzIiwiaW5pdGlhbGl6aW5nIiwicHJldmlvdXNXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJwcmV2aW91c0hlaWdodCIsImlubmVySGVpZ2h0Iiwid2lkdGhSYXRpbyIsImhlaWdodFJhdGlvIiwiaGFsZkhlaWdodCIsIm1pbiIsIm1heCIsImNsYW1wUG9zaXRpb25zIiwidXBkYXRlQ29tcHV0ZXJQb3NpdGlvbiIsInJlc2V0QmFsbCIsIm1vdmUiLCJWWCIsIlZZIiwicGxheWVyVG9wIiwicGxheWVyQm90dG9tIiwiZCIsImNvbXB1dGVyVG9wIiwiY29tcHV0ZXJCb3R0b20iLCJob3Jpem9udGFsRGlyZWN0aW9uIiwicmFuZG9tIiwiQkFTRV9CQUxMX1NQRUVEIiwiZ2FtZVN0YXJ0ZWQiLCJ1cGRhdGVNb3VzZVBvc2l0aW9uIiwiZXZlbnQiLCJjbGllbnRZIiwic3RhcnRHYW1lIiwiZ2FtZUxvZ2ljXzEiLCJmcmVlemUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZHJhd2luZ18xIiwiaW5wdXRfMSIsImNhbnZhc18xIiwiZ2FtZUxvb3AiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvbmxvYWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsIm9ubW91c2Vtb3ZlIiwib25jbGljayIsImFkZEV2ZW50TGlzdGVuZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==